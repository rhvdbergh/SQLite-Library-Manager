extends layout

block content
  h1 Loans
  p
    a.button(href='new_loan.html') Create New Loan
  p
    | Filters
    a(href='all_loans.html') All
    | |
    a(href='overdue_loans.html') Overdue
    | |
    a(href='checked_loans.html') Checked Out
  table
    thead
      tr
        th Book
        th Patron
        th Loaned on
        th Return by
        th Returned on
        th Action
    tbody
      each loan in loans
        tr
          td
            a(href='book_detail.html') #{loan.dataValues.Book.dataValues.title}
          td
            a(href='patron_detail.html') #{loan.dataValues.Patron.dataValues.first_name} #{loan.dataValues.Patron.dataValues.last_name}
          td= loan.dataValues.loaned_on
          td= loan.dataValues.return_by
          td= loan.dataValues.returned_on
          td
            if loan.returned_on === null
              a.button(href='return_book.html') Return Book
            
            
